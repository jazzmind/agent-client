# ==========================================================================
# LOCAL DEVELOPMENT CONFIGURATION
# ==========================================================================
# Copy this file to .env.local and update with your actual values
# This configuration allows you to run agent-manager locally while
# connecting to production backend services for testing.

# ==========================================================================
# BACKEND SERVICES (Production LXC Containers)
# ==========================================================================

# Python Agent Server
NEXT_PUBLIC_AGENT_API_URL=http://10.96.200.202:8000

# Ingest API (for document management)
NEXT_PUBLIC_INGEST_API_URL=http://10.96.200.206:8002

# ==========================================================================
# AUTHENTICATION
# ==========================================================================

# AI Portal URL (where users authenticate)
# Use production portal for SSO flow
NEXT_PUBLIC_AI_PORTAL_URL=http://10.96.200.201:3000

# AuthZ Service (for token exchange)
AUTHZ_BASE_URL=http://10.96.200.210:8010

# Agent-manager's client credentials
# These must be registered with the authz service
# Contact admin to get these credentials or register new ones
AUTHZ_CLIENT_ID=agent-manager
AUTHZ_CLIENT_SECRET=your-secret-here

# ==========================================================================
# APPLICATION
# ==========================================================================

# Base path for routing (empty for local dev)
NEXT_PUBLIC_BASE_PATH=

# App URL (for redirects)
NEXT_PUBLIC_APP_URL=http://localhost:3001

# Node environment
NODE_ENV=development

# Port (use 3001 to avoid conflict with ai-portal on 3000)
PORT=3001

# ==========================================================================
# TEST USER (Local Development Only)
# ==========================================================================

# Test user credentials for local development without SSO flow
# When these are set, you can test directly without going through ai-portal
# These bypass the SSO token exchange and directly request authz tokens
TEST_USER_ID=696ca76f-5e94-43d6-a628-2e5104fc6ba9
TEST_USER_EMAIL=test@busibox.local

# ==========================================================================
# OPTIONAL CONFIGURATION
# ==========================================================================

# Enable debug logging
DEBUG=true

# SSE connection timeout (milliseconds)
SSE_TIMEOUT=30000

# Maximum concurrent SSE streams
MAX_SSE_STREAMS=100

# ==========================================================================
# SETUP INSTRUCTIONS
# ==========================================================================
# 
# 1. Copy this file to .env.local:
#    cp env.local.example .env.local
#
# 2. Get authz credentials:
#    - Contact admin for AUTHZ_CLIENT_SECRET
#    - Or register agent-manager with authz service
#
# 3. Start the dev server:
#    npm run dev
#
# 4. Test directly (without SSO):
#    - Go to http://localhost:3001
#    - Will automatically use TEST_USER credentials
#    - No need to go through ai-portal
#
# 5. Test with SSO flow:
#    - Go to http://10.96.200.201:3000
#    - Log in
#    - Click on Agent Manager app
#    - Should redirect to http://localhost:3001 with SSO token
#
# 6. Troubleshooting:
#    - Check browser console for errors
#    - Check terminal for server logs
#    - Verify network access to LXC containers (10.96.200.x)
#    - Verify authz credentials are correct
